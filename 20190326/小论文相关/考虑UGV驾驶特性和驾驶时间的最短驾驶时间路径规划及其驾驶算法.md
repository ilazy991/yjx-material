# 考虑UGV驾驶特性和驾驶时间的最短驾驶时间路径规划及其驾驶算法


**摘要**：A*算法是全局路径生成算法，并且通常仅使用距离信息来创建路径。沿路径行驶的车辆通常不考虑行驶特性。弯道减速是车辆的行驶特性之一。本文针对这一特点，提出了一种新的基于评价函数的路径算法，以减少驾驶路径转角的数量，从而降低驾驶成本，如驾驶时间、油耗等。并将势场法应用于UGV的驱动中，该方法在跟踪移动机器人所生成的路径时，对静态和动态障碍物环境具有较强的鲁棒性。通过基于伪UGV的移动机器人在缩小的UGV最大行驶速度和弯道行驶速度下的实验，进行了行驶时间和路径跟踪测试。实验结果表明，与A *算法的结果相比，该算法的驱动时间明显缩短。

**关键词：** A*算法，路径规划，势场，降低驱动器成本  

1.简介  
2.路径生成算法  
2.1 A *算法  
2.2考虑角落的路径创建  
2.2.1角点搜索  
2.2.2根据角落的重量  
3.按照生成的路径  
4.模拟和结果  
4.1模拟  
4.2加权路径生成的比较  
5.驾驶实验和结果  
6.结论  

## 简介

近年来，为了增加人类的便利性或在特殊的环境中使用，对无人驾驶车辆的研究非常活跃。美国IT企业谷歌(Google)已从2010年起投入无人驾驶汽车研究，近来无人驾驶车辆已完成48万公里无事故行驶[1]。通过这样的实验，其安全性得到了认可，从美国的3个州开始得到了无人驾驶汽车的许可，现在已经领到了驾驶证。不仅是像美国“DARPA Grand Challenge” 这样世界级的无人驾驶车辆大赛，韩国国内也正在进行无人驾驶车辆的研究或相关大会等。随着无人车辆的研究活跃进行，对无人车辆路径生成的关心也随之提高。

为了使无人驾驶车辆到达目标点，必须生成从起点到目标点的路径。目前，最常用的算法有A*算法和算法(Gradient Method)。A *算法在计算速度和效率方面优于其他算法，因此美国无人机大挑战中超过一半的参与者使用该算法[4,5]。但是A *算法的缺点是，由于未知的环境，出现了预想不到的情况，遇到动感障碍物时，重新探索整体的路径。然而，尽管有这些缺点，它仍被广泛用于整个路径规划，因为它可以搜索最快和最短的路径。==斜率法通过根据位置使用成本函数根据变量的导数值自动生成路径，具有在确保基于数学模型的稳定性的同时生成最优路径的优点，使用斜率法的势场法也是斜率法之一[6]。== 仅靠机器人或车辆周围有限的环境信息，就可以生成路径，而且需要计算的领域较少，因此容易实现，因此经常被利用在地区路径的生成上。但根据环境的不同，存在局部最小点(Local Minimum)发生的问题，为了解决这个问题 ，有一项研究通过结合虚拟障碍概念来解决该问题[7,8]。  

> == 因此，在本文中，基于A*算法的基础上形成的车辆的整体路径法，并且我们提出了一种使用潜在场来保证所生成路径的鲁棒性的方法。==  

在生成路径后，如果车辆在行驶过程中遇到拐角，4轮车辆或质量较大的自主行驶机器人会发生翻车危险或超速行驶现象，会需要减速等变速行驶操作。在之前的研究中，有方法根据路面状况或其他外部因素赋予权重值来生成路径，但这并不能反映出行驶车辆的特征[9,10]。这些算法是仅利用距离或周边要素的信息来生成路径的。如果因为弯道或其他因素减速，行驶的时间会相应地增加，如果以A*算法形成的最短路径有很多弯道，行驶的时间会受弯道数量的影响。这增加了驾驶成本，例如由于速度变化而增加的燃料消耗以及当车辆在大量拐角处行驶时增加的驾驶时间。因此，在本文中，我们提出了一种路径规划算法，可以减少角落的数量，以减少总的运行时间和运行成本。  



## 2.路径生成算法
### 2.1 A *算法
A *  算法将地图划分为网格形式以在给定地图上生成路径，在地图的当前点搜索8个相邻方向，选择计算出的总距离值最小的节点，一。等式（1）是 在A *算法中使用的评估函数，并且 图1表示用于路径生成的算法的进度。  
![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935087463.JPG)

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935081368.JPG)

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935083004.JPG)

f =总路径成本  
g =从起点到当前点的累积路径成本  
h =从当前点到目标点的估计路径成本（启发式函数） 

A *  算法的h值是启发式函数，并且根据选择该值的方法也可以不同地生成路径[11]  。最具代表性的方法是欧几里德方法（2）和曼哈顿方法（3），两者都忽略障碍物并计算距离。在本文中，我们使用欧几里德方法，因为机器人的移动方向比仅在垂直和水平方向（四个方向）搜索的曼哈顿方法更频繁。 

### 2.2考虑角落的路径创建
在本文中，我们提出了一种基于遇到拐角时的减速度的加权方案，而不是像A*算法那样仅使用距离信息简单地搜索最短路径。

为了创建具有少量角的路径，我们需要在路径搜索过程中为方向（角）分配不同于路径搜索方向的权重。考虑角的新评估函数在等式（4）中示出。  

考虑角数的评价函数如式（4）所示。 

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935085827.JPG)

c =拐角的重量  
f'=总路径成本  
g =从起点到当前点的累积路径成本  
h'=从当前点到目标成本  
路径的估计路径成本成本=距离+拐角的重量 

到当前点的累积路径成本g必须包括距离成本加上角落的累积成本，并计算角落的启发式h'值。

#### 2.2.1角点搜索
要搜索正方形点阵中的角点，必须先了解此表单的功能。由于格子图案的性质，产生45°或90°角，并且垂直，水平（→↑←↓）或对角（↖↖）搜索路径搜索方向。 通过使用当前节点中的父节点，当前节点和相邻八个方向的扩展节点的坐标值，可以知道角的数量，这在A *算法中是已知的。  

1是当前点的父坐标，k是当前点坐标，k + 1是扩展点坐标。

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935087463.JPG)

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935083876.JPG)

#### 2.2.2根据角落的重量


由于A *  算法的基本评估函数是基于距离计算的，因此角落的权重也切换到距离成本。如果汽车遇到拐角并减速，则在减速的同时行驶的距离减小。  

假设没有空气动力学效应，车辆可以通过曲线的最大速度由两个因素决定，即曲线半径和轮胎与路面的摩擦系数。如果您认为汽车以最大速度转弯，则施加在汽车上的离心力的最大值以及汽车与路面之间的摩擦力在相反方向上完全平衡。因此，当认为车辆以最大允许速度转弯时，车辆的速度由等式（10）给出。然而，由于等式（10）是不考虑路面状态或各种环境的简单等式，因此将推荐速度设定为低于此。

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935085512.JPG)

其中r是曲线的半径，v是速度，W是汽车的重量，m是汽车的质量，G是重力加速度，μ是轮胎摩擦系数。 

根据国内道路救助设施标准的规定，限速的国内道路转弯半径应大于15m。最大转速在最小转弯15米等的半径，但/ s的根据等式考虑10M（10）安全建议速率为6米/秒。因此，具有最小转弯半径的90°拐角处的减速率设定为6m / s。45°角旋转25米的平均半径把相对放置10μm的推荐速度/秒，从而相应地减速。车辆的最高速度基于30米/秒（100公里/小时）。加速度为3米/秒2，因为从正常车辆停止到100公里/小时的加速时间约为10秒 。这是基于国内道路上最常见的例子。在本文中，拐角旋转速度设置为推荐速度，但速度可以根据机器人的形状和性能而改变。 

此给定的机器人的减速率，最大速度，并且，得到重量在根据加速度，如果地图的网格正方形以产生路线，并且如果方面是对角线的长1m是1.4m左右。如果权重为的角中的一个为比光栅之间的长度越小，表达没有降低，因为重量的影响下，以满足拐角处的对角线的1.4米的距离，以增加的重量的影响随着时间的推移搬走（ 11）并相加。  

图。C→p→B与C→p→A之间的距离相同。但是当你遇到拐角时，驾驶时间会有所不同，因为车辆会减速。计算行驶时间差与通过给予车辆的数值相对于时间可移动的距离之间的差。  

当移动机器人遇到一个角落时，它相对于时间不能移动的距离大约是没有角落时直行的距离的2/3，4 /这是一个5。因此，根据公式（11），给予45°和90°的权重分别为2.7米和7米。

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935085512.JPG)

其中T是没有拐角的直线运行时间，T角是遇到拐角时的运行时间，V是最大速度。  

在这种情况下，速度设置得非常快，因为实际车辆是标准配置。由于待测试的车辆是移动机器人并且还基于车辆生成路径生成，因此根据待测机器人的性能按比例减小所有数值。最高速度设定为0.6米/秒，拐角处的速度设定为0.2米/秒。 

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935081924.JPG)

## 3.按照生成的路径

潜在的现场方法用于改善驾驶性能并使驾驶鲁棒性遵循所生成的路线。势场是最速下降法的驱动方法中，以以往创建势能，并且任选地在其中能量根据在空间中的位置减小的方向运行的一个。  

等式（12），（13）和（14）以及图4。图4描述了在势场中使用的等式和驱动方法。

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935089971.JPG)

其中ξ是力的增益，q是机器人的位置中，q 目标是目标位置，η是的斥力，第（q）中的增益的机器人与障碍物中，q之间的距离OBT的障碍物的位置，对Ô是障碍物的排斥力效果的距离，并且推斥力（F 代表（q））是相反的方向，所述力（F一个障碍ATT到（q））的产生的力，以所述目标方向。  

由于势场方法仅生成到起始位置（机器人的位置）和目标点的路径，因此必须在路径上给出一个跟随生成路径的经过点。 为了基于A *算法生成路径，在生成的路径中创建直线交叉（角）。因为它基于势场行进所生成的路径，所以鲁棒路径行进是可能的，因为它避免了动态障碍并且补偿了网格中生成的路径的缺点，并且即使路径偏离也返回到指定路径。如果生成的路径中没有出现动态障碍物，则仅跟随生成的路径。 

![image](http://fulltext.koreascholar.com/data/org/13/Content/2013/03/201410160935088020.JPG)

## 6.结论
为了减少拐角路径的数量，进行了模拟以比较所提出的算法的行驶路线和行驶时间。仿真结果表明，该方法 可以生成一个角度小于A *算法的路径，缩短了传播时间。并且我们可以看到生成的路径根据给角落的权重而不同地生成。此外， 通过组合代表全局路径生成方法和本地路径生成方法的A *算法和势场，可以在生成的路径上执行鲁棒的后续行进。并且，如模拟结果所示， 确认加权函数是重要的，因为与A *算法相比，行进时间没有减少，并且行进时间等于或大于A *算法的行进时间。 。  

实验机器人是一种伪UGV，它考虑到最大运行速度和拐角处的最大转弯速度来降低比率，并且确认将实验应用于移动机器人可以将运行时间减少约27％。 

在所提出的算法中，仅在遇到拐角时车辆的减速影响路径生成，但是将进行未来的研究以通过将车辆的最大速度和加速度相加作为评估函数来生成可以进一步减少行驶时间的路径。

1.http://www.amitbhawani.com/blog/drive-without-driver-google-car/  
2.http://en.wikipedia.org/wiki/DARPA_Grand_Challenge  
3.J. H. Lee, E. H. Jung, B. C. Ko "Status and Prospects of Intelligent Autonomous vehicle contest" Korea Multimedia Society Vol. 14, No. 1. pp 31-41 March 2010 
4.http://theory.stanford.edu/~amitp/GameProgramming/ 
5.O. Khatib, "Real-time Obstacle Avoidance for Manipulators and Mobile Robots," International Journal of Robotics Research, Vol. 5, No. 1, pp 90-98, 1986.  
6.E. Rimon, and D. E. Koditschek, “Exact robot navigation using artificial potential functions” IEEE Trans. On Robotics and Automation, Vol. 9(5), 501-518, 1992.  
7.M. G. Park and M. C. Lee,”Artificial Potential Field Based Path Planning for Mobile Robots Using a Virtual Obstacle Concept”, 2003 IEEE/ASME International Conference on Advanced Intelligent Mechatronics, vol. 2, pp.20 – 24. July. 2003 
8.Liu Chengqing, Marcelo H ang Jr, Hariharan Krishnan “Virtual Obstacle Concept for Local-minimum-recovery in Potential-field Based Navigation”, 2000 IEEE International Conference on Robotics & Automation vol. 2, pp.983-988. April. 2000 
9.M. H. Kim, Y. Wei, M. C. Lee “A Study of New Path Planning Algorithm using Extended A* Algorithm with Survivability” The 5th International Conference on Intelligent Robotics and Applications(ICIRA) October. 2012 
10.http://arainyday.se/projects/python/AStar/  
11.http://theory.stanford.edu/~amitp/GameProgramming/Heuri stics.html#S7 
 
http://jkros.org/journal/article.php?code=2157
